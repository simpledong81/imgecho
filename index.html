<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImgEcho - Image Information Display and Editing Tool</title>

    <!-- ÁΩëÁ´ôÂÖÉ‰ø°ÊÅØ -->
    <meta name="description" content="ImgEcho - Modern image information display and editing tool, supports EXIF information reading and image metadata editing">
    <meta name="keywords" content="image editing,EXIF,metadata,image processing,frontend tool">
    <meta name="author" content="ImgEcho Team">
    <meta name="theme-color" content="#4299e1">

    <!-- Â§ñÈÉ®Ê†∑ÂºèË°® -->
    <link rel="stylesheet" href="./style.css">

    <!-- ÁΩëÁ´ôÂõæÊ†á -->
    <link rel="icon" type="image/x-icon" href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 100 100'><text y='.9em' font-size='90'>üì∏</text></svg>">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="header-content">
                <div class="app-title">
                    <h1>ImgEcho</h1>
                    <p>Image Information Display and Editing Tool</p>
                </div>

                <!-- Ê®°ÂºèÂàáÊç¢Âô® -->
                <div class="mode-switcher">
                    <button id="single-mode-btn" class="mode-btn active" data-i18n="singleMode">ÂçïÂº†Ê®°Âºè</button>
                    <button id="batch-mode-btn" class="mode-btn" data-i18n="batchMode">ÊâπÈáèÊ®°Âºè</button>
                </div>

                <div class="language-switcher">
                    <label for="language-select">Language:</label>
                    <select id="language-select">
                        <option value="en">English</option>
                        <option value="zh">‰∏≠Êñá</option>
                    </select>
                </div>
            </div>
        </header>

        <main class="main-content">
            <section class="image-section">
                <article class="canvas-container" id="drop-zone">
                    <div class="upload-hint">
                        <svg class="upload-icon" width="48" height="48" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="7 10 12 15 17 10"/>
                            <line x1="12" y1="15" x2="12" y2="3"/>
                        </svg>
                        <p>ÁÇπÂáªÊàñÊãñÊãΩÂõæÁâáÂà∞Ê≠§Â§Ñ</p>
                        <p class="hint-text">ÊîØÊåÅ JPG„ÄÅPNG„ÄÅWebP Á≠âÊ†ºÂºè</p>
                    </div>
                    <canvas id="image-canvas"></canvas>
                </article>

                <section class="controls">
                    <div class="control-row">
                        <div class="control-group">
                            <!-- ‰ΩøÁî®Ê≠£Á°ÆÁöÑlabelÂÖ≥ËÅîÔºåÁ°Æ‰øùÁÇπÂáªÊñáÂ≠ó‰πüËÉΩËß¶ÂèëÊñá‰ª∂ÈÄâÊã© -->
                            <label for="file-input" class="file-label">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                    <polyline points="7 10 12 15 17 10"/>
                                    <line x1="12" y1="15" x2="12" y2="3"/>
                                </svg>
                                ‰∏ä‰º†ÂõæÁâá
                            </label>
                            <input type="file" id="file-input" accept="image/*" class="file-input" aria-label="ÈÄâÊã©ÂõæÁâáÊñá‰ª∂">
                        </div>

                        <div class="control-group">
                            <label for="blur-slider">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"/>
                                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                                </svg>
                                Ê®°Á≥ä: <span id="blur-value">0.0</span>
                            </label>
                            <input type="range" id="blur-slider" min="0" max="10" step="0.1" value="0" aria-label="Blur intensity">
                        </div>
                    </div>

                    <div class="export-controls">
                        <button id="export-btn" class="btn btn-primary" aria-label="Export image" data-i18n="exportImage">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            ÂØºÂá∫ÂõæÁâá
                        </button>
                        <button id="export-info-btn" class="btn btn-secondary" aria-label="Export information page" data-i18n="exportInfoPage">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            ÂØºÂá∫‰ø°ÊÅØÈ°µ
                        </button>
                    </div>

                    <!-- ÂØºÂá∫ÈÄâÈ°π -->
                    <div class="export-options" style="margin-top: 10px;">
                        <div class="form-group">
                            <label for="export-format" data-i18n="exportFormat">ÂØºÂá∫Ê†ºÂºè</label>
                            <select id="export-format" class="form-control">
                                <option value="jpeg">JPEG</option>
                                <option value="png">PNG (‰øùÁïôÈÄèÊòéÂ∫¶)</option>
                                <option value="webp">WebP (Êõ¥Â∞è‰ΩìÁßØ)</option>
                                <option value="pdf">PDF (ÊñáÊ°£Ê†ºÂºè)</option>
                            </select>
                        </div>
                        <div class="form-group">
                            <label for="export-quality" data-i18n="exportQuality">ÂØºÂá∫Ë¥®Èáè (<span id="export-quality-value">95</span>%)</label>
                            <input type="range" id="export-quality" class="form-control" min="1" max="100" value="95" step="1">
                            <small class="form-text" data-i18n="exportQualityHint">Ë¥®ÈáèË∂äÈ´òÔºåÊñá‰ª∂Ë∂äÂ§ß„ÄÇÊé®Ëçê 85-95%</small>
                        </div>
                    </div>

                    <!-- Ë£ÅÂâ™/ÊóãËΩ¨Êéß‰ª∂ -->
                    <div class="crop-rotate-controls" style="margin-top: 10px;">
                        <button id="crop-btn" class="btn btn-secondary" aria-label="Crop" data-i18n="crop">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M6.13 1L6 16a2 2 0 0 0 2 2h15"/>
                                <path d="M1 6.13L16 6a2 2 0 0 1 2 2v15"/>
                            </svg>
                            Ë£ÅÂâ™
                        </button>
                        <button id="rotate-left-btn" class="btn btn-secondary" aria-label="Rotate left" data-i18n="rotateLeft">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M2.5 2v6h6M2.66 15.57a10 10 0 1 0 .57-8.38"/>
                            </svg>
                            Â∑¶Êóã90¬∞
                        </button>
                        <button id="rotate-right-btn" class="btn btn-secondary" aria-label="Rotate right" data-i18n="rotateRight">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21.5 2v6h-6M21.34 15.57a10 10 0 1 1-.57-8.38"/>
                            </svg>
                            Âè≥Êóã90¬∞
                        </button>
                        <button id="flip-horizontal-btn" class="btn btn-secondary" aria-label="Flip horizontal" data-i18n="flipHorizontal">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M12 3v18M8 7L4 12l4 5M16 7l4 5-4 5"/>
                            </svg>
                            Ê∞¥Âπ≥ÁøªËΩ¨
                        </button>
                        <button id="flip-vertical-btn" class="btn btn-secondary" aria-label="Flip vertical" data-i18n="flipVertical">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12h18M7 8l5-4 5 4M7 16l5 4 5-4"/>
                            </svg>
                            ÂûÇÁõ¥ÁøªËΩ¨
                        </button>
                        <button id="reset-transform-btn" class="btn btn-secondary" aria-label="Reset transform" data-i18n="resetTransform">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8"/>
                                <path d="M21 3v5h-5"/>
                                <path d="M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16"/>
                                <path d="M3 21v-5h5"/>
                            </svg>
                            ËøòÂéü
                        </button>
                    </div>

                    <!-- Êí§ÈîÄ/ÈáçÂÅöÊéß‰ª∂ -->
                    <div class="undo-redo-controls" style="margin-top: 10px;">
                        <button id="undo-btn" class="btn btn-secondary" aria-label="Undo" data-i18n="undo" disabled>
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M3 7v6h6"/>
                                <path d="M21 17a9 9 0 00-9-9 9 9 0 00-6 2.3L3 13"/>
                            </svg>
                            Êí§ÈîÄ
                        </button>
                        <button id="redo-btn" class="btn btn-secondary" aria-label="Redo" data-i18n="redo" disabled>
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 7v6h-6"/>
                                <path d="M3 17a9 9 0 019-9 9 9 0 016 2.3l3-2.3"/>
                            </svg>
                            ÈáçÂÅö
                        </button>
                        <button id="history-panel-btn" class="btn btn-secondary" aria-label="History" data-i18n="historyPanel">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <polyline points="12 6 12 12 16 14"/>
                            </svg>
                            ÂéÜÂè≤ËÆ∞ÂΩï
                        </button>
                    </div>
                </section>

                <!-- ÊâπÈáèÂ§ÑÁêÜÈù¢Êùø -->
                <section class="batch-panel" id="batch-panel" style="display: none;">
                    <div class="batch-header">
                        <h3>ÊâπÈáèÈòüÂàó (<span id="queue-count">0</span> Âº†ÂõæÁâá)</h3>
                        <button id="clear-queue-btn" class="btn btn-secondary">Ê∏ÖÁ©∫ÈòüÂàó</button>
                    </div>

                    <div class="batch-queue" id="batch-queue">
                        <!-- Âä®ÊÄÅÊ∏≤ÊüìÈòüÂàóÈ°π -->
                    </div>

                    <div class="batch-controls">
                        <button id="apply-to-all-btn" class="btn btn-secondary">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="20 6 9 17 4 12"></polyline>
                            </svg>
                            Â∫îÁî®ÂΩìÂâçËÆæÁΩÆÂà∞ÂÖ®ÈÉ®
                        </button>
                        <button id="batch-export-btn" class="btn btn-primary">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                                <polyline points="7 10 12 15 17 10"/>
                                <line x1="12" y1="15" x2="12" y2="3"/>
                            </svg>
                            ÂØºÂá∫ÂÖ®ÈÉ®‰∏∫ ZIP
                        </button>
                    </div>

                    <div class="batch-progress" id="batch-progress" style="display: none;">
                        <div class="progress-bar">
                            <div class="progress-fill" id="progress-fill"></div>
                        </div>
                        <p class="progress-text">
                            Â§ÑÁêÜ‰∏≠: <span id="progress-current">0</span> / <span id="progress-total">0</span>
                        </p>
                    </div>
                </section>
            </section>

            <aside class="info-panel">
                <h2>ÂõæÁâá‰ø°ÊÅØ</h2>

                <section class="info-section">
                    <h3 class="section-title">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M23 19a2 2 0 0 1-2 2H3a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h4l2-3h6l2 3h4a2 2 0 0 1 2 2z"/>
                            <circle cx="12" cy="13" r="4"/>
                        </svg>
                        <span data-i18n="basicInfo">Âü∫Êú¨‰ø°ÊÅØ</span>
                    </h3>
                    <div class="control-row">
                        <div class="control-group">
                            <label for="camera">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 20h9"/>
                                    <path d="M16.5 3.5a2.121 2.121 0 0 1 3 3L7 19l-4 1 1-4L16.5 3.5z"/>
                                </svg>
                                Áõ∏Êú∫
                            </label>
                            <input type="text" id="camera" placeholder="Áõ∏Êú∫ÂûãÂè∑" aria-label="Camera model">
                        </div>

                        <div class="control-group">
                            <label for="lens">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="3"/>
                                    <path d="M19.4 15a1.65 1.65 0 0 0 .33 1.82l.06.06a2 2 0 0 1 0 2.83 2 2 0 0 1-2.83 0l-.06-.06a1.65 1.65 0 0 0-1.82-.33 1.65 1.65 0 0 0-1 1.51V21a2 2 0 0 1-2 2 2 2 0 0 1-2-2v-.09A1.65 1.65 0 0 0 9 19.4a1.65 1.65 0 0 0-1.82.33l-.06.06a2 2 0 0 1-2.83 0 2 2 0 0 1 0-2.83l.06-.06a1.65 1.65 0 0 0 .33-1.82 1.65 1.65 0 0 0-1.51-1H3a2 2 0 0 1-2-2 2 2 0 0 1 2-2h.09A1.65 1.65 0 0 0 4.6 9a1.65 1.65 0 0 0-.33-1.82l-.06-.06a2 2 0 0 1 0-2.83 2 2 0 0 1 2.83 0l.06.06a1.65 1.65 0 0 0 1.82.33H9a1.65 1.65 0 0 0 1-1.51V3a2 2 0 0 1 2-2 2 2 0 0 1 2 2v.09a1.65 1.65 0 0 0 1 1.51 1.65 1.65 0 0 0 1.82-.33l.06-.06a2 2 0 0 1 2.83 0 2 2 0 0 1 0 2.83l-.06.06a1.65 1.65 0 0 0-.33 1.82V9a1.65 1.65 0 0 0 1.51 1H21a2 2 0 0 1 2 2 2 2 0 0 1-2 2h-.09a1.65 1.65 0 0 0-1.51 1z"/>
                                </svg>
                                ÈïúÂ§¥
                            </label>
                            <input type="text" id="lens" placeholder="ÈïúÂ§¥ÂûãÂè∑" aria-label="Lens model">
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="iso">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <line x1="12" y1="8" x2="12" y2="16"/>
                                    <line x1="8" y1="12" x2="16" y2="12"/>
                                </svg>
                                ISO
                            </label>
                            <input type="text" id="iso" placeholder="ISOÂÄº" aria-label="ISO value">
                        </div>

                        <div class="control-group">
                            <label for="aperture">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <circle cx="12" cy="12" r="3"/>
                                </svg>
                                ÂÖâÂúà
                            </label>
                            <input type="text" id="aperture" placeholder="ÂÖâÂúàÂÄº" aria-label="Aperture value">
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="shutter">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="2" y="6" width="20" height="12" rx="2"/>
                                    <path d="M12 6v4"/>
                                </svg>
                                Âø´Èó®
                            </label>
                            <input type="text" id="shutter" placeholder="Âø´Èó®ÈÄüÂ∫¶" aria-label="Shutter speed">
                        </div>

                        <div class="control-group">
                            <label for="location">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0 1 18 0z"/>
                                    <circle cx="12" cy="10" r="3"/>
                                </svg>
                                Âú∞ÁÇπ
                            </label>
                            <input type="text" id="location" placeholder="ÊãçÊëÑÂú∞ÁÇπ" aria-label="Location">
                        </div>
                    </div>
                </section>

                <section class="info-section">
                    <h3 class="section-title">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M4 7V4h16v3"/>
                            <path d="M5 20h6"/>
                            <path d="M13 4 8 20"/>
                            <path d="M15 15h5"/>
                            <path d="M15 11h5"/>
                        </svg>
                        <span data-i18n="textSettings">ÊñáÂ≠óËÆæÁΩÆ</span>
                    </h3>
                    <div class="control-row">
                        <div class="control-group">
                            <label for="font-family">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M4 7V4h16v3"/>
                                    <path d="M5 20h6"/>
                                    <path d="M13 4 8 20"/>
                                    <path d="M15 15h5"/>
                                </svg>
                                Â≠ó‰Ωì
                            </label>
                            <select id="font-family" aria-label="Font family">
                                <option value="Arial, 'Microsoft YaHei', ÂæÆËΩØÈõÖÈªë, sans-serif">Arial / ÂæÆËΩØÈõÖÈªë</option>
                                <option value="Helvetica, 'PingFang SC', ËãπÊñπ, sans-serif">Helvetica / ËãπÊñπ</option>
                                <option value="'Times New Roman', 'SimSun', ÂÆã‰Ωì, serif">Times New Roman / ÂÆã‰Ωì</option>
                                <option value="'Courier New', 'SimHei', Èªë‰Ωì, monospace">Courier New / Èªë‰Ωì</option>
                                <option value="'Segoe UI', 'Noto Sans SC', 'Source Han Sans SC', sans-serif">Segoe UI / ÊÄùÊ∫êÈªë‰Ωì</option>
                                <option value="Georgia, 'KaiTi', Ê•∑‰Ωì, serif">Georgia / Ê•∑‰Ωì</option>
                                <option value="Verdana, 'Microsoft YaHei UI', sans-serif">Verdana / ÂæÆËΩØÈõÖÈªë UI</option>
                                <option value="Tahoma, 'Noto Sans CJK SC', sans-serif">Tahoma / Noto Sans CJK</option>
                            </select>
                        </div>

                        <div class="control-group">
                            <label for="font-weight">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M6 4v16"/>
                                    <path d="M18 4v16"/>
                                    <path d="M6 12h12"/>
                                </svg>
                                Á≤óÁªÜ
                            </label>
                            <select id="font-weight" aria-label="Font weight">
                                <option value="normal">Â∏∏ËßÑ</option>
                                <option value="bold">Á≤ó‰Ωì</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="font-size">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M17 14V2"/>
                                    <path d="M9 18v-8"/>
                                    <path d="M21 18v-8"/>
                                    <path d="M14 6v8"/>
                                    <path d="M3 10v8"/>
                                </svg>
                                Â§ßÂ∞è: <span id="font-size-value">2.0</span>%
                            </label>
                            <input type="range" id="font-size" min="1" max="10" step="0.1" value="2" aria-label="Font size">
                        </div>

                        <div class="control-group">
                            <label for="font-position">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r=".5"/>
                                    <circle cx="15.5" cy="8.5" r=".5"/>
                                    <circle cx="8.5" cy="15.5" r=".5"/>
                                    <circle cx="15.5" cy="15.5" r=".5"/>
                                    <circle cx="12" cy="12" r=".5"/>
                                </svg>
                                ‰ΩçÁΩÆ
                            </label>
                            <select id="font-position" aria-label="Font position">
                                <option value="top-left">Â∑¶‰∏ä</option>
                                <option value="top-right">Âè≥‰∏ä</option>
                                <option value="bottom-left">Â∑¶‰∏ã</option>
                                <option value="bottom-center">Â∫ïÈÉ®Â±Ö‰∏≠</option>
                                <option value="bottom-right">Âè≥‰∏ã</option>
                                <option value="center">‰∏≠ÂøÉ</option>
                            </select>
                        </div>
                    </div>

                    <!-- È´òÁ∫ßÊñáÂ≠óÊ†∑Âºè -->
                    <div class="control-row">
                        <div class="control-group">
                            <label for="font-color">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <path d="M12 2.69l5.66 5.66a8 8 0 1 1-11.31 0z"/>
                                </svg>
                                <span data-i18n="fontColor">ÊñáÂ≠óÈ¢úËâ≤</span>
                            </label>
                            <input type="color" id="font-color" value="#FFFFFF" aria-label="Font color">
                        </div>

                        <div class="control-group">
                            <label for="font-opacity">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                    <path d="M12 6v6l4 2"/>
                                </svg>
                                <span data-i18n="fontOpacity">ÊñáÂ≠óÈÄèÊòéÂ∫¶</span>: <span id="font-opacity-value">100</span>%
                            </label>
                            <input type="range" id="font-opacity" min="0" max="100" value="100" step="5" aria-label="Font opacity">
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="stroke-color">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r="10"/>
                                </svg>
                                <span data-i18n="strokeColor">ÊèèËæπÈ¢úËâ≤</span>
                            </label>
                            <input type="color" id="stroke-color" value="#000000" aria-label="Stroke color">
                        </div>

                        <div class="control-group">
                            <label for="stroke-width">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="4" y1="21" x2="4" y2="14"/>
                                    <line x1="4" y1="10" x2="4" y2="3"/>
                                    <line x1="12" y1="21" x2="12" y2="12"/>
                                    <line x1="12" y1="8" x2="12" y2="3"/>
                                    <line x1="20" y1="21" x2="20" y2="16"/>
                                    <line x1="20" y1="12" x2="20" y2="3"/>
                                </svg>
                                <span data-i18n="strokeWidth">ÊèèËæπÁ≤óÁªÜ</span>: <span id="stroke-width-value">0</span>px
                            </label>
                            <input type="range" id="stroke-width" min="0" max="10" value="0" step="0.5" aria-label="Stroke width">
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="text-shadow" checked aria-label="Text shadow">
                                <span data-i18n="textShadow">ÊñáÂ≠óÈò¥ÂΩ±</span>
                            </label>
                        </div>

                        <div class="control-group">
                            <label class="checkbox-label">
                                <input type="checkbox" id="bg-mask" aria-label="Background mask">
                                <span data-i18n="bgMask">ËÉåÊôØÈÅÆÁΩ©</span>
                            </label>
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="bg-mask-opacity">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                </svg>
                                <span data-i18n="bgMaskOpacity">ÈÅÆÁΩ©ÈÄèÊòéÂ∫¶</span>: <span id="bg-mask-opacity-value">50</span>%
                            </label>
                            <input type="range" id="bg-mask-opacity" min="0" max="100" value="50" step="5" aria-label="Background mask opacity">
                        </div>
                    </div>

                    <!-- Phase 2: ËøõÈò∂ÂäüËÉΩ -->
                    <div class="control-row">
                        <div class="control-group">
                            <label for="text-rotation">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="23 4 23 10 17 10"/>
                                    <path d="M20.49 15a9 9 0 1 1-2.12-9.36L23 10"/>
                                </svg>
                                <span data-i18n="textRotation">ÊñáÂ≠óÊóãËΩ¨</span>: <span id="text-rotation-value">0</span>¬∞
                            </label>
                            <input type="range" id="text-rotation" min="-180" max="180" value="0" step="5" aria-label="Text rotation">
                        </div>
                    </div>

                    <div class="control-row">
                        <div class="control-group">
                            <label for="line-height">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <line x1="3" y1="6" x2="21" y2="6"/>
                                    <line x1="3" y1="12" x2="21" y2="12"/>
                                    <line x1="3" y1="18" x2="21" y2="18"/>
                                </svg>
                                <span data-i18n="lineHeight">Ë°åÈó¥Ë∑ù</span>: <span id="line-height-value">1.8</span>
                            </label>
                            <input type="range" id="line-height" min="1.0" max="3.0" value="1.8" step="0.1" aria-label="Line height">
                        </div>

                        <div class="control-group">
                            <label for="letter-spacing">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <polyline points="4 7 4 4 20 4 20 7"/>
                                    <line x1="9" y1="20" x2="15" y2="20"/>
                                    <line x1="12" y1="4" x2="12" y2="20"/>
                                </svg>
                                <span data-i18n="letterSpacing">Â≠óÈó¥Ë∑ù</span>: <span id="letter-spacing-value">0</span>px
                            </label>
                            <input type="range" id="letter-spacing" min="0" max="20" value="0" step="1" aria-label="Letter spacing">
                        </div>
                    </div>
                </section>

                <section class="info-section">
                    <h3 class="section-title">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10"/>
                            <line x1="12" y1="8" x2="12" y2="12"/>
                            <line x1="12" y1="16" x2="12.01" y2="16"/>
                        </svg>
                        <span data-i18n="otherInfo">ÂÖ∂‰ªñ‰ø°ÊÅØ</span>
                    </h3>
                    <div class="control-group">
                        <label for="copyright">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M14.31 8l5.74 9.94"/>
                                <path d="M9.69 8h11.48"/>
                                <path d="M7.38 12l5.74-9.94"/>
                                <path d="M9.69 16L3.95 6.06"/>
                                <path d="M14.31 16H2.83"/>
                            </svg>
                            ÁâàÊùÉ
                        </label>
                        <input type="text" id="copyright" placeholder="ÁâàÊùÉ‰ø°ÊÅØ" aria-label="Copyright information">
                    </div>

                    <div class="control-group">
                        <label for="notes">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                                <polyline points="14,2 14,8 20,8"/>
                                <line x1="16" y1="13" x2="8" y2="13"/>
                                <line x1="16" y1="17" x2="8" y2="17"/>
                                <polyline points="10,9 9,9 8,9"/>
                            </svg>
                            Ê≥®Èáä
                        </label>
                        <textarea id="notes" placeholder="Ê∑ªÂä†Ê≥®Èáä" aria-label="Notes" style="min-height: 60px;"></textarea>
                    </div>

                    <div class="control-group">
                        <label for="display-mode">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="3" width="20" height="14" rx="2" ry="2"/>
                                <line x1="8" y1="21" x2="16" y2="21"/>
                                <line x1="12" y1="17" x2="12" y2="21"/>
                            </svg>
                            ÊòæÁ§∫Ê®°Âºè
                        </label>
                        <select id="display-mode" aria-label="Display mode">
                            <option value="full">ÂÆåÊï¥Ê®°Âºè</option>
                            <option value="simple">ÁÆÄÊ¥ÅÊ®°Âºè</option>
                        </select>
                    </div>
                </section>

                <section class="info-section template-section">
                    <h3 class="section-title">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"/>
                            <polyline points="14,2 14,8 20,8"/>
                        </svg>
                        <span data-i18n="templateTitle">Ê®°ÊùøÁÆ°ÁêÜ</span>
                    </h3>

                    <!-- ÂÜÖÁΩÆÊ®°Êùø -->
                    <div class="control-group">
                        <label for="built-in-templates" data-i18n="builtInTemplates">ÂÜÖÁΩÆÊ®°Êùø</label>
                        <select id="built-in-templates" aria-label="Built-in templates" style="margin-bottom: var(--spacing-xs);">
                            <option value="" data-i18n="selectTemplate">ÈÄâÊã©Ê®°Êùø...</option>
                        </select>
                    </div>
                    <button id="apply-built-in-btn" class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-md);" data-i18n="applyTemplate">Â∫îÁî®</button>

                    <!-- Áî®Êà∑Ê®°Êùø -->
                    <div class="control-group">
                        <label for="user-templates" data-i18n="userTemplates">ÊàëÁöÑÊ®°Êùø</label>
                        <select id="user-templates" aria-label="User templates" style="margin-bottom: var(--spacing-xs);">
                            <option value="" data-i18n="selectTemplate">ÈÄâÊã©Ê®°Êùø...</option>
                        </select>
                    </div>
                    <button id="apply-user-btn" class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-md);" data-i18n="applyTemplate">Â∫îÁî®</button>

                    <!-- Ê®°ÊùøÊìç‰Ωú -->
                    <div class="template-actions">
                        <button id="save-template-btn" class="btn btn-primary" style="min-width: 100px;" data-i18n="saveAsTemplate">
                            ‰øùÂ≠òÊ®°Êùø
                        </button>
                        <button id="manage-templates-btn" class="btn btn-secondary" style="min-width: 100px;" data-i18n="manageTemplates">
                            ÁÆ°ÁêÜÊ®°Êùø
                        </button>
                    </div>
                </section>

                <section class="info-section logo-section">
                    <h3 class="section-title">
                        <svg class="icon" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            <circle cx="8.5" cy="8.5" r="1.5"/>
                            <polyline points="21,15 16,10 5,21"/>
                        </svg>
                        <span data-i18n="logoWatermark">Logo/Ê∞¥Âç∞</span>
                    </h3>

                    <!-- Logo ÈÄâÊã© -->
                    <div class="control-group">
                        <label for="logo-select" data-i18n="selectLogo">ÈÄâÊã© Logo</label>
                        <select id="logo-select" aria-label="Select logo">
                            <option value="" data-i18n="noLogo">Êó† Logo</option>
                        </select>
                    </div>

                    <!-- Logo ‰∏ä‰º† -->
                    <button id="upload-logo-btn" class="btn btn-secondary" style="width: 100%; margin-bottom: var(--spacing-md);" data-i18n="uploadLogo">
                        <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                            <polyline points="17,8 12,3 7,8"/>
                            <line x1="12" y1="3" x2="12" y2="15"/>
                        </svg>
                        ‰∏ä‰º† Logo
                    </button>

                    <!-- Logo ÊéßÂà∂ -->
                    <div class="control-row">
                        <div class="control-group">
                            <label for="logo-position">
                                <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                    <circle cx="12" cy="12" r=".5"/>
                                    <circle cx="19.5" cy="4.5" r=".5"/>
                                    <circle cx="4.5" cy="19.5" r=".5"/>
                                </svg>
                                <span data-i18n="logoPosition">‰ΩçÁΩÆ</span>
                            </label>
                            <select id="logo-position" aria-label="Logo position">
                                <option value="top-left" data-i18n="positionTopLeft">Â∑¶‰∏ä</option>
                                <option value="top-right" data-i18n="positionTopRight">Âè≥‰∏ä</option>
                                <option value="bottom-left" data-i18n="positionBottomLeft">Â∑¶‰∏ã</option>
                                <option value="bottom-right" data-i18n="positionBottomRight" selected>Âè≥‰∏ã</option>
                                <option value="center" data-i18n="positionCenter">‰∏≠ÂøÉ</option>
                            </select>
                        </div>
                    </div>

                    <div class="control-group">
                        <label for="logo-size">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                            </svg>
                            <span data-i18n="logoSize">Â§ßÂ∞è</span>: <span id="logo-size-value">10</span>%
                        </label>
                        <input type="range" id="logo-size" min="5" max="30" value="10" step="1" aria-label="Logo size">
                    </div>

                    <div class="control-group">
                        <label for="logo-opacity">
                            <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"/>
                                <path d="M12 2v20"/>
                            </svg>
                            <span data-i18n="logoOpacity">ÈÄèÊòéÂ∫¶</span>: <span id="logo-opacity-value">100</span>%
                        </label>
                        <input type="range" id="logo-opacity" min="0" max="100" value="100" step="5" aria-label="Logo opacity">
                    </div>

                    <div class="control-group">
                        <label class="checkbox-label">
                            <input type="checkbox" id="logo-tiled" aria-label="Tiled watermark mode">
                            <span data-i18n="logoTiled">Âπ≥Èì∫Ê∞¥Âç∞Ê®°Âºè</span>
                        </label>
                    </div>

                    <!-- Logo ÁÆ°ÁêÜ -->
                    <button id="manage-logos-btn" class="btn btn-secondary" style="width: 100%;" data-i18n="manageLogos">
                        <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="3"/>
                            <path d="M12 1v6m0 6v6M5.64 5.64l4.24 4.24m6.36 0l4.24-4.24m0 12.72l-4.24-4.24m-6.36 0l-4.24 4.24"/>
                        </svg>
                        ÁÆ°ÁêÜ Logo
                    </button>
                </section>
            </aside>
        </main>
    </div>

    <!-- Ëá™ÂÆö‰πâÂØπËØùÊ°Ü -->
    <div id="custom-dialog-overlay" class="dialog-overlay" style="display: none;">
        <div class="dialog-box">
            <div class="dialog-header">
                <h3 id="dialog-title">ÊèêÁ§∫</h3>
            </div>
            <div class="dialog-content">
                <p id="dialog-message"></p>
            </div>
            <div class="dialog-footer">
                <button id="dialog-cancel" class="btn btn-secondary" style="display: none;">ÂèñÊ∂à</button>
                <button id="dialog-confirm" class="btn btn-primary">Á°ÆÂÆö</button>
            </div>
        </div>
    </div>

    <!-- Ê®°ÊùøÁÆ°ÁêÜÂØπËØùÊ°Ü -->
    <div id="template-manager-overlay" class="dialog-overlay" style="display: none;">
        <div class="dialog-box template-manager-dialog">
            <div class="dialog-header">
                <h3 data-i18n="manageTemplates">ÁÆ°ÁêÜÊ®°Êùø</h3>
                <button id="close-template-manager" class="close-btn" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="dialog-content template-manager-content">
                <div id="template-list"></div>
            </div>
            <div class="dialog-footer template-manager-footer">
                <button id="import-template-btn" class="btn btn-secondary" data-i18n="importTemplate">
                    <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="7,10 12,15 17,10"/>
                        <line x1="12" y1="15" x2="12" y2="3"/>
                    </svg>
                    ÂØºÂÖ•Ê®°Êùø
                </button>
                <button id="export-all-templates-btn" class="btn btn-secondary" data-i18n="exportAllTemplates">
                    <svg class="icon" width="14" height="14" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4"/>
                        <polyline points="17,8 12,3 7,8"/>
                        <line x1="12" y1="3" x2="12" y2="15"/>
                    </svg>
                    ÂØºÂá∫ÂÖ®ÈÉ®
                </button>
            </div>
        </div>
    </div>

    <!-- Logo ÁÆ°ÁêÜÂØπËØùÊ°Ü -->
    <div id="logo-manager-overlay" class="dialog-overlay" style="display: none;">
        <div class="dialog-box logo-manager-dialog">
            <div class="dialog-header">
                <h3 data-i18n="manageLogos">ÁÆ°ÁêÜ Logo</h3>
                <button id="close-logo-manager" class="close-btn" aria-label="Close">
                    <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18"></line>
                        <line x1="6" y1="6" x2="18" y2="18"></line>
                    </svg>
                </button>
            </div>
            <div class="dialog-content logo-manager-content">
                <div id="logo-list"></div>
            </div>
        </div>
    </div>

    <!-- ÂéÜÂè≤ËÆ∞ÂΩïÈù¢Êùø -->
    <div id="history-panel-overlay" class="dialog-overlay" style="display: none;">
        <div class="dialog-box history-panel-dialog">
            <div class="dialog-header">
                <h3 data-i18n="historyPanel">ÂéÜÂè≤ËÆ∞ÂΩï</h3>
            </div>
            <div class="dialog-content history-panel-content">
                <div id="history-list" class="history-list">
                    <!-- Âä®ÊÄÅÁîüÊàêÂéÜÂè≤ËÆ∞ÂΩïÈ°π -->
                </div>
            </div>
            <div class="dialog-footer">
                <button id="clear-history-btn" class="btn btn-secondary" data-i18n="clearHistory">
                    Ê∏ÖÁ©∫ÂéÜÂè≤
                </button>
                <button class="btn btn-secondary" onclick="document.getElementById('history-panel-overlay').style.display='none'" data-i18n="close">
                    ÂÖ≥Èó≠
                </button>
            </div>
        </div>
    </div>

    <!-- Ë£ÅÂâ™Â∑•ÂÖ∑Ê†è -->
    <div id="crop-toolbar" class="crop-toolbar" style="display: none;">
        <div class="crop-toolbar-content">
            <div class="crop-ratio-buttons">
                <button id="crop-free" class="btn btn-secondary active" data-i18n="cropFree">Ëá™Áî±</button>
                <button id="crop-1-1" class="btn btn-secondary" data-ratio="1">1:1</button>
                <button id="crop-4-3" class="btn btn-secondary" data-ratio="1.333">4:3</button>
                <button id="crop-16-9" class="btn btn-secondary" data-ratio="1.778">16:9</button>
                <button id="crop-3-2" class="btn btn-secondary" data-ratio="1.5">3:2</button>
            </div>
            <div class="crop-actions">
                <button id="crop-apply" class="btn btn-primary" data-i18n="apply">Â∫îÁî®</button>
                <button id="crop-cancel" class="btn btn-secondary" data-i18n="cancel">ÂèñÊ∂à</button>
            </div>
        </div>
    </div>

    <!-- ÈöêËóèÁöÑÊñá‰ª∂ËæìÂÖ• -->
    <input type="file" id="template-file-input" accept=".json" style="display: none;">
    <input type="file" id="logo-file-input" accept="image/png,image/jpeg,image/jpg,image/gif,image/svg+xml,image/webp" style="display: none;">

    <!-- Â§ñÈÉ®JavaScriptÊñá‰ª∂ -->
    <script type="module" src="./app.js"></script>
</body>
</html>
